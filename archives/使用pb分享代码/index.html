<!DOCTYPE HTML>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="SiHuan,思还,Blog,博客,GitBlog" />
    <meta name="generator" content="Maverick 1.1" />
    <meta name="template" content="Galileo" />
    <link rel="alternate" type="application/rss+xml" title="SiHuan's Blog &raquo; RSS 2.0" href="/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="SiHuan's Blog &raquo; ATOM 1.0" href="/feed/atom/index.xml" />
    <link rel="stylesheet" href="/assets/galileo-3f2347c2c0.css">
    <link rel="stylesheet" href="/assets/ExSearch/ExSearch-182e5a8868.css">
    <link href="https://fonts.googleapis.com/css?family=Fira+Code&display=swap" rel="stylesheet">
    <script>
        var ExSearchConfig = {
            root: "",
            api: "/cd4d997a10db5df83c4a353817e98635.json"
        }
    </script>
    
<title>使用 pb 分享代码 - SiHuan's Blog</title>
<meta name="author" content="SiHuan" />
<meta name="description" content="以更优雅的方式分享你的代码或者终端输出" />
<meta property="og:title" content="使用 pb 分享代码 - SiHuan's Blog" />
<meta property="og:description" content="以更优雅的方式分享你的代码或者终端输出" />
<meta property="og:site_name" content="SiHuan's Blog" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/archives/使用pb分享代码/" />
<meta property="og:image" content="" />
<meta property="article:published_time" content="2020-03-11T11:06:00-00.00" />
<meta name="twitter:title" content="使用 pb 分享代码 - SiHuan's Blog" />
<meta name="twitter:description" content="以更优雅的方式分享你的代码或者终端输出" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="" />


    
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="//cdn.jsdelivr.net" />

    </head>
    
    <body>
        
        <div class="container">
            <header id="ga-header">
                <div first>
                    <aside id="ga-logo">
                        <a href="/" target="_self">
                            <img src="/logo.png" alt="SiHuan's Blog">
                        </a>
                    </aside>
                    <aside id="ga-brand">
                        <h1 class="brand"><a class="no-style" href="/">SiHuan's Blog</a></h1>
                        <p>道阻且长，吾意思还。</p>
                    </aside>
                </div>
                <div second id="ga-nav">
                    <nav class="navs">
                        <ul><li><a class="ga-highlight" href="/" target="_self">首页</a></li><span class="separator">·</span><li><a class="ga-highlight" href="/archives/" target="_self">归档</a></li><span class="separator">·</span><li><a class="ga-highlight" href="/enngi/" target="_self">縁起</a></li><span class="separator">·</span><li><a class="ga-highlight" href="/publickey/" target="_self">公钥</a></li><span class="separator">·</span><li><a href="#" target="_self" class="search-form-input ga-highlight">搜索</a></li></ul>
                    </nav>
                    <nav class="social-links">
                        <ul><li><a class="no-style" title="Telegram" href="https://t.me/Si_Huan" target="_blank"><i class="gi gi-telegram"></i>Telegram</a></li><span class="separator">·</span><li><a class="no-style" title="GitHub" href="https://github.com/Si-Huan" target="_blank"><i class="gi gi-github"></i>GitHub</a></li></ul>
                    </nav>
                </div>
            </header>
            <div class="wrapper">
                
<main>    
    <section class="ga-section ga-content">
        <article class="yue">
            <h1 class="ga-post_title">使用 pb 分享代码</h1>
            <span class="ga-post_meta ga-mono">
                <span>SiHuan</span>
                <time>
                    2020-03-11
                </time>
                
                in <a no-style class="category" href="/category/分享/">
                    分享
                </a>
                
                
            </span>
            <div class="ga-content_body">
                <blockquote><p>PrivateBin 在线匿名粘贴版？大概吧</p>
</blockquote>
<p>分享代码给其他人的时候，发送文件太麻烦，直接把代码发过去的话有没有高亮和缩进而且会刷屏！</p>
<p>可以使用 pb 服务来解决这一个问题 ´ ▽ ` )ﾉ</p>
<p>下面就以 ArchCN 的 <a href="https://fars.ee/">fc 老师搭建的 pb</a> 为例，康一下用法 (其实大多都会给出用法,我只是搬运工</p>
<p>首先要注意的是 pb 给的说明：</p>

<pre><code>fars.ee is a temporary deployment of pb by farseerfc

pb is a lightweight pastebin (and url shortener) built using flask.

All data may be erased without notifications. Please do NOT post large files.</code></pre>
<h3>使用方式</h3>
<h4>1.使用 web 页面上传文本</h4>
<blockquote><p>并不是大家都会提供 web 页面的！</p>
</blockquote>
<p>地址：<a href="https://fars.ee/f">https://fars.ee/f</a></p>
<p><figure><img data-width="1431" data-height="803" src="/archives/assets/d6035f9e8690a01f0a9bb9592aaa5f43.png" alt="web 页面长这样" /><figcaption>web 页面长这样</figcaption></figure></p>
<h4>2.使用命令行</h4>
<blockquote><p>Create a new paste from the output of <code>cmd</code>:</p>

<pre><code>cmd | curl -F "c=@-" "https://fars.ee/"</code></pre>
</blockquote>
<p>上传一个命令的输出</p>
<p>例如</p>
<div class="highlight"><pre><span></span>$<span class="w"> </span>ls<span class="w"> </span><span class="p">|</span><span class="w"> </span>curl<span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;c=@-&quot;</span><span class="w"> </span><span class="s2">&quot;https://fars.ee/&quot;</span>
</pre></div>
<p>就将 <code>ls</code>命令的输出上传上去了，你会得到</p>

<pre><code> date: 2020-03-11T06:03:05.110297+00:00
 digest: 2471f7b7a504e790a013fd092a3109a4c58c96f0
 long: ACRx97elBOeQoBP9CSoxCaTFjJbw
 short: jJbw
 size: 88
 status: created
 url: https://fars.ee/jJbw
 uuid: 409d0a8a-5d4a-4159-bb5e-cbb43934cf57</code></pre>
<p>其中的 <code>url: https://fars.ee/jJbw</code> 就是你的地址啦，打开就可以看到你上传的文本</p>
<p>语法高亮！</p>
<p>首先让我们来上传一段代码</p>
<div class="highlight"><pre><span></span>$<span class="w"> </span>curl<span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;c=@-&quot;</span><span class="w"> </span><span class="s2">&quot;https://fars.ee/&quot;</span><span class="w"> </span>&lt;<span class="w"> </span>main.c
<span class="c1"># 或或者这样</span>
<span class="c1"># cat main.c | curl -F &quot;c=@-&quot; &quot;https://fars.ee/&quot;</span>
</pre></div>
<p>这时候我们直接访问得到的 url ( 这儿是 <a href="https://fars.ee/MXKe">https://fars.ee/MXKe</a> )，还是不会高亮的，在结尾加上语言标记就好了</p>

<pre><code>https://fars.ee/MXKe/c</code></pre>
<p>我把它标记为了 C 语言，访问的时候就会以 C 语言的语法来高亮代码了。其实还可以在末尾追加 <code>#L-n</code> 来更醒目的提醒代码的第<code>n</code> 行。</p>

<pre><code>https://fars.ee/MXKe/c#L-3</code></pre>
<h4>3.更多的快乐！</h4>
<p>其实 pb 服务不只可以分享文本，图片和文件都是可以的哟，但是为了避免给所有者造成负担大家一定要<strong>遵守规则，不要滥用</strong></p>
<p>下面就给出另外几个比较好用分享 文本、图片、文件的网站</p>
<ul>
<li><p><a href="https://cfp.vim-cn.com/">https://cfp.vim-cn.com/</a></p>
<blockquote><p>可以贴文本，支持语法高亮</p>
</blockquote>
</li>
<li><p><a href="https://img.vim-cn.com/">https://img.vim-cn.com/</a></p>
<blockquote><p>贴图片和文件</p>
</blockquote>
</li>
<li><p><a href="https://ttm.sh/">https://ttm.sh/</a></p>
<blockquote><p>贴文件，最大可以到 256 M</p>
</blockquote>
</li>
<li><p><a href="https://transfer.sh/">https://transfer.sh/</a></p>
<blockquote><p>一个接近临时网盘的东西，支持超大文件，可以去看官方说明</p>
</blockquote>
</li>
</ul>
<h3>更便捷一点</h3>
<p>如果每次都要输入像 <code>curl -F "c=@-" "https://fars.ee/"</code> 这么一大串的话，有点不方便我们可以利用一个命令别名或者 shell 函数来简化操作</p>
<h4>使用别名</h4>
<div class="highlight"><pre><span></span><span class="c1"># 添加别名 也可以添加到 ~/.bashrc 中去</span>
$<span class="w"> </span><span class="nb">alias</span><span class="w"> </span><span class="nv">pb</span><span class="o">=</span><span class="s1">&#39;curl -F &quot;c=@-&quot; &quot;https://fars.ee/&quot;&#39;</span><span class="w"> </span>
<span class="c1"># 愉快的使用</span>
$<span class="w"> </span>cat<span class="w"> </span>main.py<span class="w"> </span><span class="p">|</span><span class="w"> </span>pb
</pre></div>
<h4>使用 shell 函数</h4>
<blockquote><p>使用函数的话，就可以完成更多的操作，比如按文件名上传多个文件，又或者接下来要说的把得到的 url 复制到剪切板</p>
</blockquote>
<p>因为要复制到剪切板，这儿依赖了 <code>xclip</code> 这个工具，要提前装好，Archlinux 的话就</p>
<div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>pacman<span class="w"> </span>-S<span class="w"> </span>xclip
</pre></div>
<p>然后在 <code>~/.bashrc</code> 添加</p>
<div class="highlight"><pre><span></span>fs<span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span>curl<span class="w"> </span>-s<span class="w"> </span>-F<span class="w"> </span><span class="s2">&quot;c=@</span><span class="si">${</span><span class="nv">1</span><span class="k">:-</span><span class="p">-</span><span class="si">}</span><span class="s2">&quot;</span><span class="w"> </span><span class="s2">&quot;https://fars.ee/?u=1&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>/dev/tty<span class="w"> </span><span class="p">|</span><span class="w"> </span>perl<span class="w"> </span>-p<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;chomp if eof&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>xclip<span class="w"> </span>-selection<span class="w"> </span>clipboard<span class="w"> </span>-i
<span class="o">}</span>
</pre></div>
<p>上面的函数抄袭自 <a href="https://github.com/farseerfc/dotfiles/blob/master/zsh/.bashrc">farseerfc 的 dotfiles</a></p>
<p>这样当你 <code>cmd | fs</code>  的时候，url 就会自动复制到剪切板啦。</p>
<blockquote><p>吹一下 kdeconnect  , 如果你用了 kdeconnect 的话剪切板就自己同步到手机了！</p>
</blockquote>

            </div>
        </article>
        <div id="ga-tags">
    
    <span class="ga-tag">
        <a class="ga-highlight" href="/tag/Linux 技巧/">#Linux 技巧</a>
    </span>
    
    <span class="ga-tag">
        <a class="ga-highlight" href="/tag/pb/">#pb</a>
    </span>
    
</div>
    </section>

    
<section id="ga-content_pager">

    <div class="next">
        <a class="ga-highlight" href="/archives/vps2arch/">vps2arch!</a>
        <p class="yue">The fastest way to convert a VPS to Arch Linux!</p>
    </div>


    <div class="prev">
        <a class="ga-highlight" href="/archives/下雪了/">下雪了</a>
        <p class="yue">昨天下了一天雪❄️</p>
    </div>

</section>


    

</main>

                <footer class="ga-mono" id="ga-footer">
                    <section>
                        <span id="ga-uptime"></span>
                        <span class="brand">SiHuan's Blog</span>
                    </section>
                    <section>
                        <div class="copyright">
                            <span class="footer-addon">
                                
                            </span>
                            <nav class="social-links">
                                <ul><li><a class="no-style" title="Telegram" href="https://t.me/Si_Huan" target="_blank"><i class="gi gi-telegram"></i>Telegram</a></li><span class="separator">·</span><li><a class="no-style" title="GitHub" href="https://github.com/Si-Huan" target="_blank"><i class="gi gi-github"></i>GitHub</a></li></ul>
                            </nav>
                        </div>
                    </section>
                    <script>
                        var site_build_date = "2020-01-01T00:00+08:00"
                    </script>
                    <script src="/assets/galileo-61cf2e8279.js"></script>
                </footer>
            </div>
        </div>
    </div>
        
        
        <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="pswp__bg"></div>
        <div class="pswp__scroll-wrap">
            <div class="pswp__container">
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
                <div class="pswp__item"></div>
            </div>
            <div class="pswp__ui pswp__ui--hidden">
                <div class="pswp__top-bar">
                    <div class="pswp__counter"></div>
                    <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                    <button class="pswp__button pswp__button--share" title="Share"></button>
                    <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                    <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                    <div class="pswp__preloader">
                        <div class="pswp__preloader__icn">
                          <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                          </div>
                        </div>
                    </div>
                </div>
                <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                    <div class="pswp__share-tooltip"></div> 
                </div>
                <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
                </button>
                <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
                </button>
                <div class="pswp__caption">
                    <div class="pswp__caption__center"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="/assets/ExSearch/jquery.min.js"></script>
    <script src="/assets/ExSearch/ExSearch-493cb9cd89.js"></script>
    
    <!--katex-->
    <link rel="stylesheet" href="/assets/katex.min.css">
    <script defer src="/assets/katex.min.js"></script>
    <script>
    mathOpts = {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "\\[", right: "\\]", display: true},
            {left: "$", right: "$", display: false},
            {left: "\\(", right: "\\)", display: false}
        ]
    };
    </script>
    <script defer src="/assets/auto-render.min.js" onload="renderMathInElement(document.body, mathOpts);"></script>

    
    </body>
</html>